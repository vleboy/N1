namespace: 'bill'

attrs: sn,businessKey,parent,userId,userName,gameType,gameId,type,originalAmount,amount,balance,sourceIP,country,province,city,createdAt

findAll:
    - select * from bill

insert:
    - insert into bill({{bill.attrs }})
    - values(:sn,:businessKey,:parent,:userId,:userName,:gameType,:gameId,:type,:originalAmount,:amount,:balance,:sourceIP,:country,:province,:city,:createdAt)

batchInsert:
    - replace into bill({{ bill.attrs }}) values
    - for:
        array: data
        sql: (:sn,:businessKey,:parent,:userId,:userName,:gameType,:gameId,:type,:originalAmount,:amount,:balance,:sourceIP,:country,:province,:city,:createdAt)
        seperator: ','

chinaCount:
    - select count(*) as total,province from bill where createdAt between :startTime and :endTime
    - if:
        test: :gameType!=null
        sql: and gameType=:gameType
    - group by province

worldCount:
    - select count(*) as total,country from bill where createdAt between :startTime and :endTime
    - if:
        test: :gameType!=null
        sql: and gameType=:gameType
    - group by country

gameTypeCount:
    - select gameType,count(*) as total from bill group by gameType

userNameCount:
    -select userName,count(*) as total from bill group by UserName

parentCount:
    -select parent,count(*) as total from bill group by parent